---
title: 전문가를 위한 파이썬
Author: 루시아누 하말류 저 / 강권학
Status: Currently Reading
Topics: Advanced Python
tags:
  - Book
Kanban-Cover: "![Book Cover|300](https://image.yes24.com/goods/30231768/XL)"
draft: false

---
# Ch.1 파이썬 데이터 모델
https://junstar92.tistory.com/345
파이썬의 장점 중의 하나는 일관성(consistency)입니다. 즉, 파이썬을 어느 정도 사용하다보면, 새로운 기능에 대해서도 제대로 예측할 수 있습니다.

> [!note] 데이터 모델
> 데이터 모델은 일종의 프레임워크로서, 시퀀스, 반복자, 함수, 클래스, 콘텍스트 관리자등 언어 자체의 구성단위에 대한 인터페이스를 정의함

→ 일반적으로 프레임워크를 이용해서 코딩할 때는 프레임워크에 의해서 호출되는 메소드를 구현하는데 많은 시간을 소비합니다. 파이썬 데이터 모델 또한 마찬가지입니다. **파이썬 인터프리터는 스페셜 메소드를 호출해서 기본적인 객체의 연산을 수행하는데, 일반적으로 특별한 문법(구문)을 통해 호출**됩니다. 이러한 메소드는 __getitem__()처럼 항상 앞뒤에 이중 언더바(double underbar)를 가지고 있습니다.

예를 들어, obj[key] 형태의 문법은 __getitem__ 메소드에 의해서 지원됩니다. 인터프리터는 my_collection[key]를 만나면, my_collection.__getitem__(key)를 호출합니다.

이런 스페셜 메소드들은 우리가 구현한 객체가 다음과 같은 기본적인 언어 구성들을 구현하고 지원하고 사용할 수 있도록 해줍니다.

- Iteration
- Collections
- Attribute access
- Operator overloading
- Function and method invocation
- String representation and formatting
- Asynchronous programing using **await;**
- Object creation and destruction
- Managed contexts using **with** or **async with** statements

## 1.1 파이썬 카드 한벌
이번에는 간단하지만 스페셜 메소드인 __getitem__과 __len__만으로도 강력한 기능을 구현할 수 있다는 것을 보여주는 코드를 살펴보겠습니다.

```python
import collections
 
Card = collections.namedtuple('Card', ['rank', 'suit'])
 
class FrenchDeck:
    ranks = [str(n) for n in range(2, 11)] + list('JQKA')
    suits = 'spades diamonds clubs hearts'.split()
 
    def __init__(self):
        self._cards = [Card(rank, suit) for suit in self.suits
                                        for rank in self.ranks]
 
    def __len__(self):
        return len(self._cards)
 
    def __getitem__(self, position):
        return self._cards[position]
```