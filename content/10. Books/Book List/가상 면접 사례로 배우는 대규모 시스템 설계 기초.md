---
title: 가상 면접 사례로 배우는 대규모 시스템 설계 기초
Author: 알렉스 쉬 저 / 이병준 역
Status: Currently Reading
Topics: 시스템 설계
tags:
  - Book
Kanban-Cover: "![Book Cover|300](https://contents.kyobobook.co.kr/sih/fit-in/458x0/pdt/9788966264254.jpg)"
draft: false

---
https://velog.io/@haron/%EA%B0%80%EC%83%81-%EB%A9%B4%EC%A0%91-%EC%82%AC%EB%A1%80%EB%A1%9C-%EB%B0%B0%EC%9A%B0%EB%8A%94-%EB%8C%80%EA%B7%9C%EB%AA%A8-%EC%8B%9C%EC%8A%A4%ED%85%9C-%EC%84%A4%EA%B3%84-%EA%B8%B0%EC%B4%88-1%EC%9E%A5-%EC%82%AC%EC%9A%A9%EC%9E%90-%EC%88%98%EC%97%90-%EB%94%B0%EB%A5%B8-%EA%B7%9C%EB%AA%A8-%ED%99%95%EC%9E%A5%EC%84%B1

https://github.com/Learning-Is-Vital-In-Development/23-7-SystemDesignInterview/tree/main/chap01
https://hudi.blog/system-design-interview-alex-xu-1/
# Ch.1 사용자 수에 따른 규모 확장성
## 단일 서버
![|600](https://i.imgur.com/f4IFPmZ.png)

위와 같이 웹 서버가 클라이언트의 모든 요청을 처리할 것 이다. 위 구조에서 사용자 요청은 어떻게 흐를까?
1. 클라이언트는 DNS에 도메인 이름으로 IP를 질의한다. DNS는 우리 시스템의 일부는 아니다.
2. 클라이언트는 DNS 조회 결과로 IP를 얻어온다. 이 IP 주소는 웹 서버의 주소이다.
3. 이 IP 주소로 클라이언트는 HTTP 요청을 전달한다.
4. 웹 서버는 클라이언트에게 HTML 웹 페이지를 전달한다.

## 데이터 베이스
![|600](https://i.imgur.com/guNU6Ca.png)

사용자가 늘면 서버 하나로는 충분하지 않아서 여러 서버를 두어야 한다. 
하나는 웹/모바일 트래픽 처리 용도고, 다른 하나는 데이터베이스용이다.
→ 이렇게 웹 계층과 데이터 베이스 서버를 분리하면 각각 독립적으로 확장 해 나갈 수 있게 된다.
### 어떤 데이터 베이스를 사용할것인가?
#### RDB
데이터를 테이블, 열, 컬럼으로 표현한다. SQL을 사용하여 테이블의 관계에 따라 데이터를 조인할 수 있다.

#### NoSQL
- 키-값 저장소
- 그래프 저장소
- 칼럼 저장소
- 문서 저장소
조인 연산은 지원하지 않는다.

#### NoSQL은 언제?
- 아주 **낮은 응답 지연시간**이 요구될 때
- 다루는 데이터가 비정형(unstructured)라서 관계형 데이터가 아닐 때
- 데이터를 **직렬화하거나 역직렬화만 하면 될 때**
- **아주 많은 양의 데이터**를 저장할 필요가 있을 때

## 수직(up) vs 수평(out) 확장
### Scale-out
**수평적 규모 확장(scale-out)**은 **더 많은 서버**를 추가하여 성능을 개선
### Scale-up
서버에 **고사양 자원을 추가**(더 좋은 CPU, 더 많은 램)하는 행위
트래픽이 적을때는 수직적 확장이 좋은 선택
#### 수직 확장의 한계
한대의 서버에 CPU나 메모리를 무한대로 증설할 방법이 없다. **단일 컴퓨팅 파워에는 한계**가 있다.
또한 장애에 대한 **자동복구(failover)**나 **다중화(redundancdy) 방안**을 제시하지 않는다. 
서버에 장애가 발생하면, 모든 웹사이트, 앱은 서비스가 중단된다. 
이런 단점으로 **대규모 애플리케이션에는 수평적 규모 확장법**이 더 적절하다.

앞서 본 설계에서는 사용자가 웹서버에 바로 연결된다. 웹 서버가 다운되면 사용자는 웹 사이트에 접속할 수 없다. 또, **트래픽이 너무 많아져서 서버가 한계에 도달하면 응답속도가 느려지거나 접속이 불가능해진다**. 이런 문제를 해결하기 위해 로드 밸런서를 도입해야한다.

## 로드 밸런서
