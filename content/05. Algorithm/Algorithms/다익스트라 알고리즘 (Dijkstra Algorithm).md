---
title: ë‹¤ìµìŠ¤íŠ¸ë¼ ì•Œê³ ë¦¬ì¦˜
date: 2024-08-20
draft: false
tags: 
complete: true
---
## Overview

ìµœë‹¨ ê²½ë¡œ(Shortest path) ì•Œê³ ë¦¬ì¦˜ì€ ê¸¸ì°¾ê¸° ë¬¸ì œë¡œ, ë§ ê·¸ëŒ€ë¡œ íŠ¹ì • ì§€ì ì—ì„œ íŠ¹ì • ì§€ì ê¹Œì§€ ê°€ê¸° ìœ„í•œ ìµœë‹¨ ê²½ë¡œë¥¼ êµ¬í•˜ê¸° ìœ„í•œ ì•Œê³ ë¦¬ì¦˜ì´ë‹¤.

ê²½ë¡œ ê³„ì‚° ë°©ì‹ì—ë„ ì•„ë˜ì™€ ê°™ì€ ì¢…ë¥˜ê°€ ìˆë‹¤:
1. **(One-To-One)**Â í•œ ì§€ì ì—ì„œ ë‹¤ë¥¸ íŠ¹ì • ì§€ì ê¹Œì§€ì˜ ìµœë‹¨ê²½ë¡œ êµ¬í•˜ê¸°
2. **(One-To-All)**Â í•œ ì§€ì ì—ì„œ ë‹¤ë¥¸ ëª¨ë“  ì§€ì ê¹Œì§€ì˜ ìµœë‹¨ê²½ë¡œ êµ¬í•˜ê¸°
3. **(All-To-All)**Â ëª¨ë“  ì§€ì ì—ì„œ ëª¨ë“  ì§€ì ê¹Œì§€ì˜ ìµœë‹¨ê²½ë¡œ êµ¬í•˜ê¸°

ë‹¤ìµìŠ¤íŠ¸ë¼ ì•Œê³ ë¦¬ì¦˜ì€ ì´ ì¤‘ 2ë²ˆì§¸ ìœ í˜•(One-To-All)ì˜ ëŒ€í‘œì ì¸ ë°©ë²•ì´ë‹¤.

ë…¸ë“œì™€ ë…¸ë“œ ì‚¬ì´ì—ëŠ” weightê°€ ì¡´ì¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë…¸ë“œ ì‚¬ì´ì˜ ê±°ë¦¬ë¼ê³ ë„ ìƒê°í•  ìˆ˜ ìˆëŠ”ë°,Â **ë‹¤ìµìŠ¤íŠ¸ë¼ ì•Œê³ ë¦¬ì¦˜ì€ ê°„ì„ ì˜ weightê°€ ì–‘ìˆ˜ì¸ ê²½ìš°ì—ë§Œ ì‘ë™**í•©ë‹ˆë‹¤.
#### ìŒì˜ ê°€ì¤‘ì¹˜ê°€ ìˆìœ¼ë©´ ì•ˆë˜ëŠ” ì´ìœ 

![|335](https://blog.kakaocdn.net/dn/w3YOl/btseqYtnVTb/eXiKh88Gs0zNV1JLHm4PYk/img.png)

ë‹¤ìŒê³¼ ê°™ì€ ê²½ìš°ì— ë‹¤ìµìŠ¤íŠ¸ë¼ ì•Œê³ ë¦¬ì¦˜ì€ A->B->D ì´ ë¹„ìš© 22ê°€ ê°€ì¥ ìµœì†Œ ê²½ë¡œë¼ê³  ìƒê° í•  ê²ƒì…ë‹ˆë‹¤.  
í•˜ì§€ë§Œ A->B->C->Dê°€ ì´-90 ìœ¼ë¡œ ê°’ì´ ë” ì‘ìŠµë‹ˆë‹¤.

í•˜ì§€ë§Œ í˜„ì‹¤ ì„¸ê³„ì—ì„œ ìŒì˜ ê°„ì„ ì€ ì¡´ì¬í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ë‹¤ìµìŠ¤íŠ¸ë¼ ì•Œê³ ë¦¬ì¦˜ì€ í˜„ì‹¤ ì„¸ê³„ì˜ ë¬¸ì œë“¤ì— ì ì ˆíˆ ì ìš©ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì‹¤ì œë¡œ ì¸ê³µìœ„ì„± GPSğŸ“¡ ë“±ì— ê°€ì¥ ë§ì´ ì‚¬ìš©ë˜ê³  ìˆê¸°ë„ í•©ë‹ˆë‹¤.

ë‹¤ìµìŠ¤íŠ¸ë¼ ì•Œê³ ë¦¬ì¦˜ì€Â **ê·¸ë¦¬ë””**ë¡œ ë¶„ë¥˜í•˜ê¸°ë„ í•©ë‹ˆë‹¤.  
ë§¤ ìˆœê°„ ê°€ì¥ ì§§ì€ ê±°ë¦¬ë¥¼ ì„ íƒí•˜ë©´ì„œ ìµœë‹¨ ê±°ë¦¬ë¥¼ ì°¾ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.

## Mechanism
keyword: ìµœë‹¨ ê±°ë¦¬ í…Œì´ë¸”, ì¸ì ‘ ë…¸ë“œì¤‘ ë°©ë¬¸í•˜ì§€ ì•Šì€ ë…¸ë“œ, ê±°ë¦¬ê°€ ê°€ì¥ ì§§ì€ ë…¸ë“œ
1. `ì¶œë°œ ë…¸ë“œ`ì™€ `ë„ì°© ë…¸ë“œ`ë¥¼ ì„¤ì •í•˜ì—¬ **"ìµœë‹¨ ê±°ë¦¬ í…Œì´ë¸”"** ì„ ì´ˆê¸°í™”í•œë‹¤.
2. í˜„ì¬ ìœ„ì¹˜í•œ ë…¸ë“œì˜Â **ì¸ì ‘ ë…¸ë“œ ì¤‘ì—ì„œ ë°©ë¬¸í•˜ì§€ ì•Šì€ ë…¸ë“œë“¤ ì¤‘ ê±°ë¦¬ê°€ ê°€ì¥ ì§§ì€ ë…¸ë“œë¥¼ ì„ íƒ**í•œë‹¤. (ë°©ë¬¸ ì²˜ë¦¬)
3. í•´ë‹¹ ë…¸ë“œë¥¼ ê±°ì³ ë‹¤ë¥¸ ë…¸ë“œë¡œ ê°€ëŠ” ë¹„ìš©ì„ ê³„ì‚°í•˜ì—¬ ìµœë‹¨ ê±°ë¦¬ í…Œì´ë¸”ì„ ê°±ì‹ í•œë‹¤.
    - ê°±ì‹  : í˜„ì¬ í…Œì´ë¸”ì˜ ìµœë‹¨ê±°ë¦¬ë³´ë‹¤, í•´ë‹¹ ë…¸ë“œë¥¼ ê±°ì³ê°€ëŠ” ë¹„ìš©ì´ ì‘ìœ¼ë©´ ì‘ì€ ê²½ë¡œë¡œ êµì²´
4. 2ë²ˆê³¼ 3ë²ˆ ê³¼ì •ì„ ë°˜ë³µí•œë‹¤.

#### init
ìµœë‹¨ê±°ë¦¬ í…Œì´ë¸”ì€ ê° ë…¸ë“œì— ëŒ€í•´ ì£¼ì–´ì§€ë©°, ê° ê°’ë“¤ì€ 1ë²ˆ ë…¸ë“œì—ì„œ xë²ˆ ë…¸ë“œë¡œ ê°€ëŠ” ìµœë‹¨ ê²½ë¡œë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.  
ì²˜ìŒì—ëŠ” 1ë²ˆë…¸ë“œì—ì„œ ìê¸° ìì‹ ì˜ ê±°ë¦¬ëŠ” 0ì´ê³ , ë‚˜ë¨¸ì§€ëŠ” ë¬´í•œ(INF)ê°’ìœ¼ë¡œ ì´ˆê¸°í™”í•©ë‹ˆë‹¤.

![|475](https://i.imgur.com/gFjD7y2.png)

#### step 1
![|500](https://i.imgur.com/E6Xpvur.png)
ì¶œë°œ ë…¸ë“œì¸ 1ë²ˆ ë…¸ë“œë¥¼ ì„ íƒí•˜ê³ , ì¸ì ‘ ë…¸ë“œì¸ 2ë²ˆê³¼ 3ë²ˆì˜ ê±°ë¦¬ë¥¼ ê³„ì‚°í•˜ì—¬ ê°±ì‹ í•©ë‹ˆë‹¤. ì•„ì§ê¹Œì§€ëŠ” ë¬´í•œê°’ì´ ë“¤ì–´ìˆìœ¼ë‹ˆ ê°ê° 3ê³¼ 4ë¡œ í…Œì´ë¸” ê°’ì´ ì—…ë°ì´íŠ¸ ë©ë‹ˆë‹¤.

#### step 2
##### 2.1
![|475](https://i.imgur.com/3keAC4s.png)

ë°©ë¬¸í•˜ì§€ ì•Šì€ ë…¸ë“œ ì¤‘ ê°€ì¥ ì§§ì€ ìµœë‹¨ê±°ë¦¬ ë…¸ë“œì¸ 2ë²ˆì„ ì„ íƒí•˜ê³ , 2ë²ˆ ë…¸ë“œë¥¼ ê±°ì³ê°ˆ ìˆ˜ ìˆëŠ” ë‹¤ë¥¸ ë…¸ë“œë“¤ì˜ í…Œì´ë¸” ê°’ì„ ê°±ì‹ í•©ë‹ˆë‹¤. 3,4,6ë²ˆ ë…¸ë“œê°€ ì´ì— í•´ë‹¹í•©ë‹ˆë‹¤.

ì´ë•Œ, 3ë²ˆ ë…¸ë“œëŠ” 1ë²ˆ ë…¸ë“œë¥¼ ê±°ì¹˜ëŠ” ê²ƒì€ ë” ë¹„ìš©ì´ ì‹¸ë¯€ë¡œ ì—…ë°ì´íŠ¸ë¥¼ í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. 
í•˜ì§€ë§Œ, **4ë²ˆê³¼ 6ë²ˆì€ ê¸°ì¡´ì— ë¬´í•œê°’ì´ ë“¤ì–´ìˆì—ˆê¸° ë•Œë¬¸ì—** 2ë²ˆ ë…¸ë“œë¥¼ ê±°ì¹˜ëŠ” ê²½ë¡œì˜ ë¹„ìš©ìœ¼ë¡œ í…Œì´ë¸” ê°’ì„ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤.

ì´ì œ 3,4,6 ë²ˆ ë…¸ë“œ ì¤‘ì—ì„œ ê°€ì¥ ì§§ì€ ìµœë‹¨ê±°ë¦¬ ë…¸ë“œì¸ 3ë²ˆì„ ì„ íƒí•˜ê³ ,
2ë²ˆ ê³¼ì • (**ì¸ì ‘ ë…¸ë“œ ì¤‘ì—ì„œ ë°©ë¬¸í•˜ì§€ ì•Šì€ ë…¸ë“œë“¤ ì¤‘ ê±°ë¦¬ê°€ ê°€ì¥ ì§§ì€ ë…¸ë“œë¥¼ ì„ íƒ**) ì„ ë°˜ë³µí•©ë‹ˆë‹¤.

##### 2.2
![|575](https://i.imgur.com/SZZr6OW.png)
3ë²ˆ ë…¸ë“œì— ëŒ€í•´ì„œë„ ì•„ì§ ë°©ë¬¸í•˜ì§€ ì•Šì€ 4ë²ˆê³¼ 5ë²ˆì˜ ìµœë‹¨ ê±°ë¦¬ë¥¼ ê°±ì‹ í•´ì¤ë‹ˆë‹¤.

ë”°ë¼ì„œ 4ë²ˆ ë…¸ë“œì˜ í…Œì´ë¸” ê°’ì€ 13 -> 12ë¡œ ê°±ì‹ ë©ë‹ˆë‹¤.

#### step 3
![|500](https://i.imgur.com/BkgsCwX.png)
ìœ„ ê³¼ì •ì„ ë°˜ë³µí•˜ë©´ ìµœì¢… í…Œì´ë¸”ì€ ìœ„ì™€ ê°™ìŠµë‹ˆë‹¤.

1ë²ˆ ë…¸ë“œì—ì„œ 2~8ë²ˆ ë…¸ë“œê¹Œì§€ì˜ ìµœë‹¨ ê±°ë¦¬ë¥¼ ëª¨ë‘ êµ¬í–ˆìŠµë‹ˆë‹¤. 
ìµœë‹¨ ê±°ë¦¬ëŠ” 8ë²ˆ í…Œì´ë¸”ì˜ ê°’ì¸ 14ë¥¼ ë¦¬í„´í•˜ë©´ ë©ë‹ˆë‹¤.


## Code
- heapq ì‚¬ìš©
- 2ì°¨ì› ê·¸ë˜í”„ ì‚¬ìš©
- ë¬´í•œ ë³€ìˆ˜ ì„¤ì •

init
```python
def init(n, m, start):
    """
    ê·¸ë˜í”„, ì €ì¥ í…Œì´ë¸” ìƒì„±
    :param n: ë…¸ë“œ ê°œìˆ˜
    :param m: ì—£ì§€ ê°œìˆ˜
    :param start: ì‹œì‘ ë…¸ë“œ
    :return:
    """
    INF = int(1e9)
    graph = [[] for i in range(n + 1)]
    distance = [[INF, i] for i in range(n + 1)]  # ìµœë‹¨ ê±°ë¦¬ + ë¶€ëª¨ ë…¸ë“œ ì €ì¥ í…Œì´ë¸” ìƒì„±

    # ì–‘ë°©í–¥ ì…ë ¥
    # ë…¸ë“œ 1ì™€ ë…¸ë“œ 2ì˜ ë¹„ìš© 3
    for _ in range(m):
        start_node, end_node, weight = map(int, input().split())
        graph[start_node].append((end_node, weight))
        graph[end_node].append((start_node, weight))

    return graph, distance
```

checking graph & dist
```python
# edge input
1 2 3
1 3 4
2 3 5
2 4 10
2 6 9
3 4 8
3 5 5
4 5 6
4 6 10
4 8 3
5 4 6
5 7 4
6 8 2
7 8 5

results = init(8, 14, 1)
graph = results[0]
distance = results[1]
print(graph, '\n', distance)

# graph
[
 [], # start node (1)
 [(2, 3), (3, 4)],  # ë…¸ë“œ 1ì˜ ê°„ì ‘ ë…¸ë“œì¸ 2ì™€ 3ì˜ edge --> graph[1]
 [(1, 3), (3, 5), (4, 10), (6, 9)],
 [(1, 4), (2, 5), (4, 8), (5, 5)],
 [(2, 10), (3, 8), (5, 6), (6, 10), (8, 3), (5, 6)],
 [(3, 5), (4, 6), (4, 6), (7, 4)],
 [(2, 9), (4, 10), (8, 2)],
 [(5, 4), (8, 5)],
 [(4, 3), (6, 2), (7, 5)]
] 

# distance (1000000000ëŠ” inf)
[
 [1000000000, 0],
 [1000000000, 1],
 [1000000000, 2],
 [1000000000, 3],
 [1000000000, 4],
 [1000000000, 5],
 [1000000000, 6],
 [1000000000, 7],
 [1000000000, 8]
]
```


dijkstra
```python
def dijkstra(graph, distance, start):  
    """  
    ë‹¤ìµìŠ¤íŠ¸ë¼ ì•Œê³ ë¦¬ì¦˜  
    :param graph: ìˆœíšŒí•  ê·¸ë˜í”„  
    :param distance: ìµœë‹¨ ê±°ë¦¬ì™€ ë¶€ëª¨ ë…¸ë“œë¥¼ ì €ì¥í•œ í…Œì´ë¸”  
    :param start: ì‹œì‘ ë…¸ë“œ  
    :return: distance[-1][0] ìµœë‹¨ ê±°ë¦¬
    :distance[node][0]: ë…¸ë“œì˜ ê±°ë¦¬  
	:distance[node][1]: ë…¸ë“œ ë²ˆí˜¸
	:visted[0]: ë°©ë¬¸í•œ ë…¸ë“œì˜ ê±°ë¦¬  
	:visted[1]: ë°©ë¬¸í•œ ë…¸ë“œì˜ ë²ˆí˜¸
    """    
    visited = []  
    heapq.heappush(visited, (0, start))  # (ê±°ë¦¬, ë…¸ë“œ) í˜•ì‹ìœ¼ë¡œ ì €ì¥
    distance[start][0] = 0  
  
    while visited:  # ë°©ë¬¸í•  ë…¸ë“œê°€ ì—†ì„ ë•Œ ê¹Œì§€ ë°˜ë³µ
        dist, cur_node = heapq.heappop(visited)  # ê°€ì¥ ìµœë‹¨ ê±°ë¦¬ê°€ ì§§ì€ ë…¸ë“œì— ëŒ€í•œ ì •ë³´ êº¼ë‚´ê¸°

        if distance[cur_node][0] < dist:  # í˜„ì¬ ì²˜ë¦¬ëœ ì ì´ ìˆëŠ” ë…¸ë“œ ë¼ë©´ pass
            continue

        for edge in graph[cur_node]:  # í˜„ì¬ ë…¸ë“œì™€ ì—°ê²°ëœ ë‹¤ë¥¸ ì¸ì ‘í•œ ë…¸ë“œ ë“¤ì„ í™•ì¸
            node = edge[0]
            weight = edge[1]
            cost = dist + weight

            if cost < distance[node][0]:  # í˜„ì¬ ë…¸ë“œë¥¼ ê±°ì³ì„œ, ë‹¤ë¥¸ ë…¸ë“œë¡œ ì´ë™ í•˜ëŠ” ê±°ë¦¬ê°€ ë” ì§§ì€ ê²½ìš°
                distance[node][0] = cost  # ìµœë‹¨ ê±°ë¦¬ ê°±ì‹ 
                distance[node][1] = cur_node  # ë¶€ëª¨ ë…¸ë“œ ì €ì¥
                heapq.heappush(visited, (cost, node))
  
    return distance[-1][0]
```

```python
print(dijkstra(graph, distance, 1))
>> 14
```