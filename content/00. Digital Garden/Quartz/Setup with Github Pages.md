---
title: Setup with Github Pages
date: 2023-10-06
draft: false
tags:
  - Quartz
---
*Parent* : [[00. Digital Garden]]

1. ê¹ƒí—™ ë ˆí¬ ìƒì„±
	1. `quartz` ë¡œ ë¸”ë¡œê·¸ ìƒì„±ì‹œ `guaqamole.github.io` ì£¼ì†Œê°€ `baseurl`ì´ ë˜ê¸° ë•Œë¬¸ì— ë ˆí¬ì´ë¦„ì´ ì„œë¸Œ ë„ë©”ì¸ ì£¼ì†Œê°€ ëœë‹¤.
	2. ì˜ˆì‹œ) ë ˆí¬ ì´ë¦„ì´ testì¼ì‹œ URLì€ `guaqamole.github.io/test` ê°€ ëœë‹¤.
2. ë¸Œëžœì¹˜ë¥¼ mainì—ì„œ v4ë¡œ ë³€ê²½
	1. Settings > General > Default Branch
3. ë°°í¬ ë°©ì‹ì„ Github Actionsë¡œ ë³€ê²½
	1. Settings > Pages > Build and deployment
4. ë¸Œëžœì¹˜ protection rule ì‚­ì œ
	1. Settings > Environments

___

## ðŸª´ Get Started

Quartz requiresÂ **at leastÂ [Node](https://nodejs.org/)Â v18.14**Â andÂ `npm`Â v9.3.1 to function correctly. Ensure you have this installed on your machine before continuing.

Then, in your terminal of choice, enter the following commands line by line:
~~~bash
git clone https://github.com/jackyzha0/quartz.git
cd quartz
npm i
npx quartz create
~~~

___

## GitHub Pages

Like Quartz 3, you can deploy the site generated by Quartz 4 via GitHub Pages.

> Warning
> Quartz generates files in the format ofÂ `file.html`Â instead ofÂ `file/index.html`Â which means the trailing slashes forÂ _non-folder paths_Â are dropped. As GitHub pages does not do this redirect, this may cause existing links to your site that use trailing slashes to break. If not breaking existing links is important to you, consider usingÂ [Cloudflare Pages](https://quartz.jzhao.xyz/hosting#cloudflare-pages).

In your local Quartz, create a new fileÂ `quartz/.github/workflows/deploy.yml`.

`quartz/.github/workflows/deploy.yml`
~~~yaml
name: Deploy Quartz site to GitHub Pages
 
on:
  push:
    branches:
      - v4
 
permissions:
  contents: read
  pages: write
  id-token: write
 
concurrency:
  group: "pages"
  cancel-in-progress: false
 
jobs:
  build:
    runs-on: ubuntu-22.04
    steps:
      - uses: actions/checkout@v3
        with:
          fetch-depth: 0 # Fetch all history for git info
      - uses: actions/setup-node@v3
        with:
          node-version: 18.14
      - name: Install Dependencies
        run: npm ci
      - name: Build Quartz
        run: npx quartz build
      - name: Upload artifact
        uses: actions/upload-pages-artifact@v2
        with:
          path: public
 
  deploy:
    needs: build
    environment:
      name: github-pages
      url: ${{ steps.deployment.outputs.page_url }}
    runs-on: ubuntu-latest
    steps:
      - name: Deploy to GitHub Pages
        id: deployment
        uses: actions/deploy-pages@v2
~~~

## Commit these changes by doingÂ `npx quartz sync`. 